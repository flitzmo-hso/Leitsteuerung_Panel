{"ast":null,"code":"var _jsxFileName = \"/home/flitzmofinal/GitHub/Leitsteuerung_Panel/src/components/Orders.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport TabChange from './Orders/TabChange.js';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Orders() {\n  _s();\n\n  const [allData, setAllData] = useState({});\n  const [sessionId, setSessionId] = useState(\"\");\n  getSessionId();\n  useEffect(() => {\n    getTaskStates();\n    const interval = setInterval(() => {\n      getTaskStates();\n    }, 2000);\n    return () => clearInterval(interval);\n  }, []);\n\n  function getTaskStates() {\n    console.log(sessionId);\n    axios.get('http://0.0.0.0:8080/task_list').then(res => {\n      console.log(\"Tasks:\", res.data); //Data from Gateway\n\n      if (res.data.length === 0) {\n        //Check if data is available\n        return;\n      }\n\n      if (DataAreEqual(allData, res.data)) return; //Check if data has changed   \n\n      setAllData(res.data); //Check which Data has changed and than update status \n      //array.forEach(element => {\n      //});\n    }).catch(err => {\n      console.log(err.message); //Error-Handling\n    });\n  } //Check if old data = new data\n\n\n  function DataAreEqual(inputData, sortedOrders) {\n    if (inputData.sort().join(',') === sortedOrders.sort().join(',')) {\n      return true;\n    } else return false;\n  }\n\n  function getSessionId() {\n    axios.get('http://0.0.0.0:8080/getSessionId').then(res => {\n      console.log(\"SessionId:\", res.data); //Data from Gateway\n\n      if (res.data.length === 0) {\n        //Check if data is available\n        return;\n      }\n\n      setSessionId(res.data);\n    }).catch(err => {\n      console.log(err.message); //Error-Handling\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(TabChange, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 10\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Orders, \"Mmfjx6vRJ00kdtzcqmir2He2gmQ=\");\n\n_c = Orders;\n\nvar _c;\n\n$RefreshReg$(_c, \"Orders\");","map":{"version":3,"sources":["/home/flitzmofinal/GitHub/Leitsteuerung_Panel/src/components/Orders.js"],"names":["React","useState","useEffect","TabChange","axios","Orders","allData","setAllData","sessionId","setSessionId","getSessionId","getTaskStates","interval","setInterval","clearInterval","console","log","get","then","res","data","length","DataAreEqual","catch","err","message","inputData","sortedOrders","sort","join"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,eAAe,SAASC,MAAT,GAAkB;AAAA;;AAEjC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,EAAD,CAAtC;AAEA,QAAM,CAACO,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAC,EAAD,CAA1C;AAEAS,EAAAA,YAAY;AAGZR,EAAAA,SAAS,CAAC,MAAM;AACZS,IAAAA,aAAa;AACb,UAAMC,QAAQ,GAAGC,WAAW,CAAC,MAAM;AAAEF,MAAAA,aAAa;AAAI,KAA1B,EAA4B,IAA5B,CAA5B;AACA,WAAO,MAAKG,aAAa,CAACF,QAAD,CAAzB;AACD,GAJM,EAIJ,EAJI,CAAT;;AAOA,WAASD,aAAT,GAAwB;AACpBI,IAAAA,OAAO,CAACC,GAAR,CAAYR,SAAZ;AAEAJ,IAAAA,KAAK,CAACa,GAAN,CAAU,+BAAV,EACCC,IADD,CACMC,GAAG,IAAI;AACbJ,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBG,GAAG,CAACC,IAA1B,EADa,CACoB;;AAEjC,UAAGD,GAAG,CAACC,IAAJ,CAASC,MAAT,KAAoB,CAAvB,EAA0B;AAAE;AAE1B;AACD;;AACD,UAAIC,YAAY,CAAChB,OAAD,EAAUa,GAAG,CAACC,IAAd,CAAhB,EAAqC,OAPxB,CAOgC;;AAE7Cb,MAAAA,UAAU,CAACY,GAAG,CAACC,IAAL,CAAV,CATa,CAab;AACA;AAEA;AAEC,KAnBD,EAoBCG,KApBD,CAoBOC,GAAG,IAAI;AACVT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACC,OAAhB,EADU,CACgB;AAC7B,KAtBD;AAwBH,GA3CgC,CA8C/B;;;AACA,WAASH,YAAT,CAAsBI,SAAtB,EAAiCC,YAAjC,EAA8C;AAC5C,QAAGD,SAAS,CAACE,IAAV,GAAiBC,IAAjB,CAAsB,GAAtB,MAA+BF,YAAY,CAACC,IAAb,GAAoBC,IAApB,CAAyB,GAAzB,CAAlC,EAAgE;AAC9D,aAAO,IAAP;AACC,KAFH,MAGO,OAAO,KAAP;AACP;;AAGD,WAASnB,YAAT,GAAuB;AAEtBN,IAAAA,KAAK,CAACa,GAAN,CAAU,kCAAV,EACCC,IADD,CACMC,GAAG,IAAI;AACbJ,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BG,GAAG,CAACC,IAA9B,EADa,CACwB;;AAErC,UAAGD,GAAG,CAACC,IAAJ,CAASC,MAAT,KAAoB,CAAvB,EAA0B;AAAE;AAE1B;AACD;;AAEDZ,MAAAA,YAAY,CAACU,GAAG,CAACC,IAAL,CAAZ;AAEC,KAXD,EAYCG,KAZD,CAYOC,GAAG,IAAI;AACVT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACC,OAAhB,EADU,CACgB;AAC7B,KAdD;AAgBC;;AAID,sBACI;AAAA,2BACC,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADJ;AAMH;;GAnFuBpB,M;;KAAAA,M","sourcesContent":["import React, { useState, useEffect} from \"react\";\nimport TabChange from './Orders/TabChange.js';\nimport axios from \"axios\";\n \n\nexport default function Orders() {\n\nconst [allData, setAllData] = useState({})\n\nconst [sessionId, setSessionId] = useState(\"\")\n\ngetSessionId();\n\n\nuseEffect(() => {\n    getTaskStates()\n    const interval = setInterval(() => { getTaskStates() }, 2000)\n    return ()=> clearInterval(interval)\n  }, []);\n  \n\nfunction getTaskStates(){\n    console.log(sessionId);\n\n    axios.get('http://0.0.0.0:8080/task_list')\n    .then(res => {\n    console.log(\"Tasks:\", res.data); //Data from Gateway\n\n    if(res.data.length === 0) { //Check if data is available\n     \n      return;\n    }\n    if (DataAreEqual(allData, res.data)) return; //Check if data has changed   \n\n    setAllData(res.data);\n\n\n\n    //Check which Data has changed and than update status \n    //array.forEach(element => {\n        \n    //});\n\n    })\n    .catch(err => {\n        console.log(err.message); //Error-Handling\n    })\n\n}\n\n\n  //Check if old data = new data\n  function DataAreEqual(inputData, sortedOrders){\n    if(inputData.sort().join(',') === sortedOrders.sort().join(',')){\n      return true;\n      }\n      else return false;\n   }\n\n\n   function getSessionId(){\n\n    axios.get('http://0.0.0.0:8080/getSessionId')\n    .then(res => {\n    console.log(\"SessionId:\", res.data); //Data from Gateway\n\n    if(res.data.length === 0) { //Check if data is available\n     \n      return;\n    }\n\n    setSessionId(res.data);\n\n    })\n    .catch(err => {\n        console.log(err.message); //Error-Handling\n    })\n\n    }\n\n\n\n    return (\n        <div >\n         <TabChange/>\n        </div>\n    );\n\n}\n"]},"metadata":{},"sourceType":"module"}